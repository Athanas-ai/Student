{% extends 'base.html' %}
{% block head %}
  <style>.editor{min-height:300px;border:1px solid #e5e7eb;padding:12px;border-radius:6px;background:#fff}</style>
{% endblock %}
{% block content %}
  <h1 class="text-2xl font-bold text-teal-700">Live Notes</h1>
  <div class="mt-4">
    <div id="editor" class="editor" contenteditable="true">{{ note.content_html|safe if note else '' }}</div>
    <div class="mt-3 flex gap-2">
      <button id="saveBtn" class="px-3 py-1 bg-teal-600 text-white rounded">Save</button>
      <span id="status" class="text-sm text-gray-500">Autosave: idle</span>
    </div>
  </div>
{% endblock %}
{% block scripts %}
  <script>
    const NOTE_ID = {{ note.id if note else 'null' }};
  </script>
  <script src="{{ url_for('static', filename='js/live.js') }}"></script>
{% endblock %}
